<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Producto</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ingreso de Inventario</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-1 d-none d-sm-block">
            <!-- Icono de flecha hacia atrás (visible solo en pantallas mayores a 'sm') -->
            <a href="javascript:history.back()" class="btn-link i.fasbtn btn-link mt-2 ml-2"><i class="fas fa-arrow-left" style="color:#fe5000"></i></a>
            </div>
            <div class="col-11">
                <div class="row justify-content-center">
                    <div class="col-md-9">
                        <form action="../objetos_guardar/producto.php" method="post" id="Producto" class="text-center border border-light p-3 shadow-lg rounded-lg" style="border-radius: 18px; margin-top: 25px;">
                            <p class="h2 mb-4">Ingreso de productos</p>

                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <label for="id_producto" class="form-label">ID Producto</label>
                                    <input type="text" class="form-control" id="id_producto" name="id_producto" required>
                                </div>                                  
                                <div class="col-md-6">
                                    <label for="nombre" class="form-label">Nombre</label>
                                    <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Nombre" required>
                                </div>
                            </div>
                            <div class="row mb-4 justify-content-center">
                                <div class="col-md-6">
                                    <label for="referencia" class="form-label">Referencia</label>
                                    <input type="text" class="form-control" id="referencia" name="referencia" placeholder="Referencia" required>
                                </div>
                            </div>

                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <label for="tipo" class="form-label">Tipo</label>
                                    <input type="text" class="form-control" id="tipo" name="tipo" placeholder="Tipo" required>
                                </div>                               
                                <div class="col-md-6">
                                    <label for="Usuario" class="form-label">Usuario Que da Ingreso</label>
                                    <input type="text" class="form-control" id="Usuario" name="id_usuarioFK" placeholder="Usuario Que da Ingreso" required>
                                    <input type="hidden" name="fecha_producto">
                                </div>
                            </div>
                            
                            <button type="submit" class="boton_agregar btn btn-info btn-lg">Agregar</button>
                            <button type="button" class="boton_cancelar btn btn-secondary btn-lg">Cancelar</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
      document.getElementById('Producto').addEventListener('submit', function(event) {
            event.preventDefault(); // Evita el comportamiento predeterminado de envío del formulario

            // Envía el formulario usando fetch
            fetch('../objetos_guardar/producto.php', {
                method: 'POST',
                body: new FormData(this)
            }).then(response => response.text())
              .then(data => {
                  console.log(data); // Puedes manejar la respuesta aquí si es necesario
                  
                  // Muestra la alerta
                  alert('Los datos fueron guardados correctamente.');

                  // Redirige a index.html
                  window.location.href = '../index.html';
              })
              .catch(error => console.error('Error:', error));
        });
    </script>
    <script src="../js/agregarproducto.js"></script>

</body>
</html>
